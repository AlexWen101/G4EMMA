\hypertarget{classc2__inverse__function__p}{}\section{c2\+\_\+inverse\+\_\+function\+\_\+p$<$ float\+\_\+type $>$ Class Template Reference}
\label{classc2__inverse__function__p}\index{c2\+\_\+inverse\+\_\+function\+\_\+p$<$ float\+\_\+type $>$@{c2\+\_\+inverse\+\_\+function\+\_\+p$<$ float\+\_\+type $>$}}


create the formal inverse function of another function

for example, given a \hyperlink{classc2__function}{c2\+\_\+function} {\itshape f}  




{\ttfamily \#include \char`\"{}c2\+\_\+function.\+hh\char`\"{}}



Inheritance diagram for c2\+\_\+inverse\+\_\+function\+\_\+p$<$ float\+\_\+type $>$\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classc2__inverse__function__p__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for c2\+\_\+inverse\+\_\+function\+\_\+p$<$ float\+\_\+type $>$\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classc2__inverse__function__p__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classc2__inverse__function__p_a764ddeb41fcf06a36c3435be12bf7611}{c2\+\_\+inverse\+\_\+function\+\_\+p} (const \hyperlink{classc2__function}{c2\+\_\+function}$<$ float\+\_\+type $>$ \&source)
\begin{DoxyCompactList}\small\item\em Construct the operator. \end{DoxyCompactList}\item 
virtual float\+\_\+type \hyperlink{classc2__inverse__function__p_a907dbfc4a1ea0530ae76a1ae8704f8ce}{value\+\_\+with\+\_\+derivatives} (float\+\_\+type x, float\+\_\+type $\ast$yprime, float\+\_\+type $\ast$yprime2) const   throw (c2\+\_\+exception)
\begin{DoxyCompactList}\small\item\em get the value and derivatives. \end{DoxyCompactList}\item 
void \hyperlink{classc2__inverse__function__p_a71c6d3be4ae949024979f0968c5bf1f4}{set\+\_\+start\+\_\+hint} (float\+\_\+type hint) const 
\begin{DoxyCompactList}\small\item\em give the function a hint as to where to look for its inverse \end{DoxyCompactList}\item 
virtual float\+\_\+type \hyperlink{classc2__inverse__function__p_a49eac4019f5e0213c9d2111a1007b699}{get\+\_\+start\+\_\+hint} (float\+\_\+type x) const 
\begin{DoxyCompactList}\small\item\em get the starting hint. \end{DoxyCompactList}\item 
void \hyperlink{classc2__inverse__function__p_a69e1d30e9266238303183b25cdcf19ce}{set\+\_\+hinting\+\_\+function} (const \hyperlink{classc2__function}{c2\+\_\+function}$<$ float\+\_\+type $>$ $\ast$hint\+\_\+func)
\begin{DoxyCompactList}\small\item\em set or unset the approximate function used to start the root finder \end{DoxyCompactList}\item 
void \hyperlink{classc2__inverse__function__p_aa8e91ae51b9d0a0f7085f6bd512574fa}{set\+\_\+hinting\+\_\+function} (const \hyperlink{classc2__const__ptr}{c2\+\_\+const\+\_\+ptr}$<$ float\+\_\+type $>$ hint\+\_\+func)
\begin{DoxyCompactList}\small\item\em set the hinting function from a pointer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classc2__inverse__function__p_abe448ac1d22e9d47f11368a6ddc4508a}{c2\+\_\+inverse\+\_\+function\+\_\+p} ()
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
float\+\_\+type \hyperlink{classc2__inverse__function__p_a1d5e1f16d32ff5e8fef9e239ff5c18ed}{start\+\_\+hint}
\item 
const \hyperlink{classc2__const__ptr}{c2\+\_\+const\+\_\+ptr}$<$ float\+\_\+type $>$ \hyperlink{classc2__inverse__function__p_af8d083863a7965e901c684de7bd3cf8f}{func}
\item 
\hyperlink{classc2__const__ptr}{c2\+\_\+const\+\_\+ptr}$<$ float\+\_\+type $>$ \hyperlink{classc2__inverse__function__p_a4e1f68a44dea194ec1737fdcc8a7f17f}{hinting\+\_\+function}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$typename float\+\_\+type = double$>$\\*
class c2\+\_\+inverse\+\_\+function\+\_\+p$<$ float\+\_\+type $>$}

create the formal inverse function of another function

for example, given a \hyperlink{classc2__function}{c2\+\_\+function} {\itshape f} 


\begin{DoxyCode}
c2\_inverse\_function<double> inv(f);
a=f(x);
x1=inv(a);
\end{DoxyCode}
 will return x1=x to machine precision. The important part of this is that the resulting function is a first-\/class \hyperlink{classc2__function}{c2\+\_\+function}, so it knows its derivatives, too, unlike the case of a simple root-\/finding inverse. This means it can be integrated (for example) quite efficiently.

\begin{DoxySeeAlso}{See also}
combined\+\_\+inversion\+\_\+hinting\+\_\+sampling
\end{DoxySeeAlso}
The factory function \hyperlink{classc2__factory_aecac3e5856e36ea582da455f1b94c4d7}{c2\+\_\+factory\+::inverse\+\_\+function()} creates $\ast$new \hyperlink{classc2__inverse__function__p}{c2\+\_\+inverse\+\_\+function\+\_\+p} 

\subsection{Constructor \& Destructor Documentation}
\index{c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}!c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}}
\index{c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}!c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}}
\subsubsection[{\texorpdfstring{c2\+\_\+inverse\+\_\+function\+\_\+p(const c2\+\_\+function$<$ float\+\_\+type $>$ \&source)}{c2_inverse_function_p(const c2_function< float_type > &source)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename float\+\_\+type  = double$>$ {\bf c2\+\_\+inverse\+\_\+function\+\_\+p}$<$ float\+\_\+type $>$\+::{\bf c2\+\_\+inverse\+\_\+function\+\_\+p} (
\begin{DoxyParamCaption}
\item[{const {\bf c2\+\_\+function}$<$ float\+\_\+type $>$ \&}]{source}
\end{DoxyParamCaption}
)}\hypertarget{classc2__inverse__function__p_a764ddeb41fcf06a36c3435be12bf7611}{}\label{classc2__inverse__function__p_a764ddeb41fcf06a36c3435be12bf7611}


Construct the operator. 


\begin{DoxyParams}{Parameters}
{\em source} & the function to be inverted \\
\hline
\end{DoxyParams}
\index{c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}!c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}}
\index{c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}!c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}}
\subsubsection[{\texorpdfstring{c2\+\_\+inverse\+\_\+function\+\_\+p()}{c2_inverse_function_p()}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename float\+\_\+type  = double$>$ {\bf c2\+\_\+inverse\+\_\+function\+\_\+p}$<$ float\+\_\+type $>$\+::{\bf c2\+\_\+inverse\+\_\+function\+\_\+p} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\hypertarget{classc2__inverse__function__p_abe448ac1d22e9d47f11368a6ddc4508a}{}\label{classc2__inverse__function__p_abe448ac1d22e9d47f11368a6ddc4508a}


\subsection{Member Function Documentation}
\index{c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}!get\+\_\+start\+\_\+hint@{get\+\_\+start\+\_\+hint}}
\index{get\+\_\+start\+\_\+hint@{get\+\_\+start\+\_\+hint}!c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}}
\subsubsection[{\texorpdfstring{get\+\_\+start\+\_\+hint(float\+\_\+type x) const }{get_start_hint(float_type x) const }}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename float\+\_\+type  = double$>$ virtual float\+\_\+type {\bf c2\+\_\+inverse\+\_\+function\+\_\+p}$<$ float\+\_\+type $>$\+::get\+\_\+start\+\_\+hint (
\begin{DoxyParamCaption}
\item[{float\+\_\+type}]{x}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{classc2__inverse__function__p_a49eac4019f5e0213c9d2111a1007b699}{}\label{classc2__inverse__function__p_a49eac4019f5e0213c9d2111a1007b699}


get the starting hint. 

This is virtual so if there is a better way, this can be easily overridden. It is used in \hyperlink{classc2__inverse__function__p_a907dbfc4a1ea0530ae76a1ae8704f8ce}{value\+\_\+with\+\_\+derivatives()} to guess where to start the root finder. 
\begin{DoxyParams}{Parameters}
{\em x} & the abscissa for which an estimate is needed \\
\hline
\end{DoxyParams}
\index{c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}!set\+\_\+hinting\+\_\+function@{set\+\_\+hinting\+\_\+function}}
\index{set\+\_\+hinting\+\_\+function@{set\+\_\+hinting\+\_\+function}!c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}}
\subsubsection[{\texorpdfstring{set\+\_\+hinting\+\_\+function(const c2\+\_\+function$<$ float\+\_\+type $>$ $\ast$hint\+\_\+func)}{set_hinting_function(const c2_function< float_type > *hint_func)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename float\+\_\+type  = double$>$ void {\bf c2\+\_\+inverse\+\_\+function\+\_\+p}$<$ float\+\_\+type $>$\+::set\+\_\+hinting\+\_\+function (
\begin{DoxyParamCaption}
\item[{const {\bf c2\+\_\+function}$<$ float\+\_\+type $>$ $\ast$}]{hint\+\_\+func}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classc2__inverse__function__p_a69e1d30e9266238303183b25cdcf19ce}{}\label{classc2__inverse__function__p_a69e1d30e9266238303183b25cdcf19ce}


set or unset the approximate function used to start the root finder 

\label{classc2__inverse__function__p_set_hinting_function_discussion}%
\hypertarget{classc2__inverse__function__p_set_hinting_function_discussion}{}%
A hinting function is mostly useful if the evaluation of this inverse is going to be carried out in very non-\/local order, so the root finder has to start over for each step. If most evaluations are going to be made in fairly localized clusters (scanning through the function, for example), the default mechanism used (which just remembers the last point) is almost certainly faster.

Typically, the hinting function is likely to be set up by creating the inverse function, and then adaptively sampling an interpolating function from it, and then using the result to hint it. Another way, if the parent function is already an interpolating function, is just to create a version of the parent with the x \& y coordinates reversed.

\begin{DoxySeeAlso}{See also}
combined\+\_\+inversion\+\_\+hinting\+\_\+sampling
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em hint\+\_\+func} & the function that is an approximate inverse of the parent of this inverse\+\_\+function \\
\hline
\end{DoxyParams}
\index{c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}!set\+\_\+hinting\+\_\+function@{set\+\_\+hinting\+\_\+function}}
\index{set\+\_\+hinting\+\_\+function@{set\+\_\+hinting\+\_\+function}!c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}}
\subsubsection[{\texorpdfstring{set\+\_\+hinting\+\_\+function(const c2\+\_\+const\+\_\+ptr$<$ float\+\_\+type $>$ hint\+\_\+func)}{set_hinting_function(const c2_const_ptr< float_type > hint_func)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename float\+\_\+type  = double$>$ void {\bf c2\+\_\+inverse\+\_\+function\+\_\+p}$<$ float\+\_\+type $>$\+::set\+\_\+hinting\+\_\+function (
\begin{DoxyParamCaption}
\item[{const {\bf c2\+\_\+const\+\_\+ptr}$<$ float\+\_\+type $>$}]{hint\+\_\+func}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classc2__inverse__function__p_aa8e91ae51b9d0a0f7085f6bd512574fa}{}\label{classc2__inverse__function__p_aa8e91ae51b9d0a0f7085f6bd512574fa}


set the hinting function from a pointer. 

See \hyperlink{classc2__inverse__function__p_set_hinting_function_discussion}{discussion} 
\begin{DoxyParams}{Parameters}
{\em hint\+\_\+func} & the container holding the function \\
\hline
\end{DoxyParams}
\index{c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}!set\+\_\+start\+\_\+hint@{set\+\_\+start\+\_\+hint}}
\index{set\+\_\+start\+\_\+hint@{set\+\_\+start\+\_\+hint}!c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}}
\subsubsection[{\texorpdfstring{set\+\_\+start\+\_\+hint(float\+\_\+type hint) const }{set_start_hint(float_type hint) const }}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename float\+\_\+type  = double$>$ void {\bf c2\+\_\+inverse\+\_\+function\+\_\+p}$<$ float\+\_\+type $>$\+::set\+\_\+start\+\_\+hint (
\begin{DoxyParamCaption}
\item[{float\+\_\+type}]{hint}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classc2__inverse__function__p_a71c6d3be4ae949024979f0968c5bf1f4}{}\label{classc2__inverse__function__p_a71c6d3be4ae949024979f0968c5bf1f4}


give the function a hint as to where to look for its inverse 


\begin{DoxyParams}{Parameters}
{\em hint} & the likely value of the inverse, which defaults to whatever the evaluation returned. \\
\hline
\end{DoxyParams}
\index{c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}!value\+\_\+with\+\_\+derivatives@{value\+\_\+with\+\_\+derivatives}}
\index{value\+\_\+with\+\_\+derivatives@{value\+\_\+with\+\_\+derivatives}!c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}}
\subsubsection[{\texorpdfstring{value\+\_\+with\+\_\+derivatives(float\+\_\+type x, float\+\_\+type $\ast$yprime, float\+\_\+type $\ast$yprime2) const }{value_with_derivatives(float_type x, float_type *yprime, float_type *yprime2) const }}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename float\+\_\+type  = double$>$ virtual float\+\_\+type {\bf c2\+\_\+inverse\+\_\+function\+\_\+p}$<$ float\+\_\+type $>$\+::value\+\_\+with\+\_\+derivatives (
\begin{DoxyParamCaption}
\item[{float\+\_\+type}]{x, }
\item[{float\+\_\+type $\ast$}]{yprime, }
\item[{float\+\_\+type $\ast$}]{yprime2}
\end{DoxyParamCaption}
) const throw  {\bf c2\+\_\+exception}) \hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classc2__inverse__function__p_a907dbfc4a1ea0530ae76a1ae8704f8ce}{}\label{classc2__inverse__function__p_a907dbfc4a1ea0530ae76a1ae8704f8ce}


get the value and derivatives. 

There is required checking for null pointers on the derivatives, and most implementations should operate faster if derivatives are not needed. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em x} & the point at which to evaluate the function \\
\hline
\mbox{\tt out}  & {\em yprime} & the first derivative (if pointer is non-\/null) \\
\hline
\mbox{\tt out}  & {\em yprime2} & the second derivative (if pointer is non-\/null) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the value of the function 
\end{DoxyReturn}


Implements \hyperlink{classc2__function_a44e0201159111350be7f746fc9026f67}{c2\+\_\+function$<$ float\+\_\+type $>$}.



\subsection{Member Data Documentation}
\index{c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}!func@{func}}
\index{func@{func}!c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}}
\subsubsection[{\texorpdfstring{func}{func}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename float\+\_\+type  = double$>$ const {\bf c2\+\_\+const\+\_\+ptr}$<$float\+\_\+type$>$ {\bf c2\+\_\+inverse\+\_\+function\+\_\+p}$<$ float\+\_\+type $>$\+::func\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classc2__inverse__function__p_af8d083863a7965e901c684de7bd3cf8f}{}\label{classc2__inverse__function__p_af8d083863a7965e901c684de7bd3cf8f}
\index{c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}!hinting\+\_\+function@{hinting\+\_\+function}}
\index{hinting\+\_\+function@{hinting\+\_\+function}!c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}}
\subsubsection[{\texorpdfstring{hinting\+\_\+function}{hinting_function}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename float\+\_\+type  = double$>$ {\bf c2\+\_\+const\+\_\+ptr}$<$float\+\_\+type$>$ {\bf c2\+\_\+inverse\+\_\+function\+\_\+p}$<$ float\+\_\+type $>$\+::hinting\+\_\+function\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classc2__inverse__function__p_a4e1f68a44dea194ec1737fdcc8a7f17f}{}\label{classc2__inverse__function__p_a4e1f68a44dea194ec1737fdcc8a7f17f}
\index{c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}!start\+\_\+hint@{start\+\_\+hint}}
\index{start\+\_\+hint@{start\+\_\+hint}!c2\+\_\+inverse\+\_\+function\+\_\+p@{c2\+\_\+inverse\+\_\+function\+\_\+p}}
\subsubsection[{\texorpdfstring{start\+\_\+hint}{start_hint}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename float\+\_\+type  = double$>$ float\+\_\+type {\bf c2\+\_\+inverse\+\_\+function\+\_\+p}$<$ float\+\_\+type $>$\+::start\+\_\+hint\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [protected]}}\hypertarget{classc2__inverse__function__p_a1d5e1f16d32ff5e8fef9e239ff5c18ed}{}\label{classc2__inverse__function__p_a1d5e1f16d32ff5e8fef9e239ff5c18ed}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{c2__function_8hh}{c2\+\_\+function.\+hh}\end{DoxyCompactItemize}
